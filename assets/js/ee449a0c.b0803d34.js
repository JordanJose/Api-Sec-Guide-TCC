"use strict";(self.webpackChunkapi_security_basic_guide=self.webpackChunkapi_security_basic_guide||[]).push([[220],{3905:(e,a,r)=>{r.d(a,{Zo:()=>l,kt:()=>p});var o=r(7294);function s(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function t(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,o)}return r}function n(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?t(Object(r),!0).forEach((function(a){s(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}function i(e,a){if(null==e)return{};var r,o,s=function(e,a){if(null==e)return{};var r,o,s={},t=Object.keys(e);for(o=0;o<t.length;o++)r=t[o],a.indexOf(r)>=0||(s[r]=e[r]);return s}(e,a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)r=t[o],a.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var u=o.createContext({}),d=function(e){var a=o.useContext(u),r=a;return e&&(r="function"==typeof e?e(a):n(n({},a),e)),r},l=function(e){var a=d(e.components);return o.createElement(u.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},c=o.forwardRef((function(e,a){var r=e.components,s=e.mdxType,t=e.originalType,u=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),c=d(r),p=s,f=c["".concat(u,".").concat(p)]||c[p]||m[p]||t;return r?o.createElement(f,n(n({ref:a},l),{},{components:r})):o.createElement(f,n({ref:a},l))}));function p(e,a){var r=arguments,s=a&&a.mdxType;if("string"==typeof e||s){var t=r.length,n=new Array(t);n[0]=c;var i={};for(var u in a)hasOwnProperty.call(a,u)&&(i[u]=a[u]);i.originalType=e,i.mdxType="string"==typeof e?e:s,n[1]=i;for(var d=2;d<t;d++)n[d]=r[d];return o.createElement.apply(null,n)}return o.createElement.apply(null,r)}c.displayName="MDXCreateElement"},6826:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>u,contentTitle:()=>n,default:()=>m,frontMatter:()=>t,metadata:()=>i,toc:()=>d});var o=r(7462),s=(r(7294),r(3905));const t={sidebar_position:1},n="Descri\xe7\xe3o",i={unversionedId:"Vulnerabilidades/Mass Assignment/descricao",id:"Vulnerabilidades/Mass Assignment/descricao",title:"Descri\xe7\xe3o",description:"---",source:"@site/docs/Vulnerabilidades/Mass Assignment/descricao.md",sourceDirName:"Vulnerabilidades/Mass Assignment",slug:"/Vulnerabilidades/Mass Assignment/descricao",permalink:"/Api-Sec-Guide-TCC/docs/Vulnerabilidades/Mass Assignment/descricao",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"defaultSidebar",previous:{title:"Mass Assignment",permalink:"/Api-Sec-Guide-TCC/docs/category/mass-assignment"},next:{title:"Explora\xe7\xe3o",permalink:"/Api-Sec-Guide-TCC/docs/Vulnerabilidades/Mass Assignment/exploracao"}},u={},d=[{value:"Cria\xe7\xe3o de um usu\xe1rio",id:"cria\xe7\xe3o-de-um-usu\xe1rio",level:2},{value:"Questionamentos chave",id:"questionamentos-chave",level:2},{value:"Mais refer\xeancias dispon\xedveis na OWASP.",id:"mais-refer\xeancias-dispon\xedveis-na-owasp",level:4}],l={toc:d};function m(e){let{components:a,...r}=e;return(0,s.kt)("wrapper",(0,o.Z)({},l,r,{components:a,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"descri\xe7\xe3o"},"Descri\xe7\xe3o"),(0,s.kt)("hr",null),(0,s.kt)("p",null,"A atribui\xe7\xe3o em massa est\xe1 em sexto lugar nas vulnerabilidades mais comuns em interfaces de programa\xe7\xe3o de aplica\xe7\xf5es segundo levantamento feito pela OWASP."),(0,s.kt)("p",null,"Essa vulnerabilidade consiste em alterar propriedades de um objeto, ao qual um usu\xe1rio normalmente n\xe3o teria permiss\xe3o, por exemplo, mudar o status de um usu\xe1rio comum para administrador ou alterar o saldo inicial de sua carteira digital."),(0,s.kt)("p",null,"Geralmente, para explorar essa vulnerabilidade \xe9 necess\xe1rio conhecer as regras do neg\xf3cio e o funcionamento da aplica\xe7\xe3o. Nem sempre \xe9 necess\xe1rio burlar a l\xf3gica da aplica\xe7\xe3o, a a\xe7\xe3o de simplesmente alterar um par\xe2metro de uma requisi\xe7\xe3o j\xe1 pode ser o suficiente para haver a explora\xe7\xe3o."),(0,s.kt)("h2",{id:"cria\xe7\xe3o-de-um-usu\xe1rio"},"Cria\xe7\xe3o de um usu\xe1rio"),(0,s.kt)("p",null,"Tipos de usu\xe1rio variam de acordo com as regras de neg\xf3cio de uma aplica\xe7\xe3o, por\xe9m, \xe9 comumente encontrado um usu\xe1rio que possui acessos de administrador \xe0 uma aplica\xe7\xe3o, popularmente conhecido como ",(0,s.kt)("inlineCode",{parentName:"p"},"admin"),"."),(0,s.kt)("p",null,"Um cen\xe1rio muito comum ao falarmos de ",(0,s.kt)("strong",{parentName:"p"},"Mass Assignment")," \xe9 a promo\xe7\xe3o de um usu\xe1rio comum para um usu\xe1rio admin, sem a devida permiss\xe3o."),(0,s.kt)("p",null,"Em uma correta implementa\xe7\xe3o, h\xe1 alguns pontos para que um usu\xe1rio possa ser administrador:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("em",{parentName:"li"},"Apenas um perfil de administrador pode conceder permiss\xf5es de administrador a outro usu\xe1rio.")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("em",{parentName:"li"},"Deve haver um controle dos perfis de administrador"))),(0,s.kt)("p",null,"\xc9 claro que esses questionamentos s\xe3o b\xe1sicos, esse tipo de acesso \xe9 permeado de diversas camadas de seguran\xe7a e, al\xe9m disso, esse cen\xe1rio pode mudar dependendo da aplica\xe7\xe3o e das suas regras de neg\xf3cio que, futuramente, se tornar\xe3o requisitos de seguran\xe7a."),(0,s.kt)("p",null,"No caso da VAmPI, n\xe3o h\xe1 como criar um usu\xe1rio com permiss\xf5es de admin, essa altera\xe7\xe3o deve ser feita sem o uso da API."),(0,s.kt)("h2",{id:"questionamentos-chave"},"Questionamentos chave"),(0,s.kt)("p",null,"Com o cen\xe1rio apresentado acima \xe9 poss\xedvel fazer alguns questionamentos antes de realizar a descoberta e explora\xe7\xe3o da vulnerabilidade."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Um atacante pode adivinhar par\xe2metros sens\xedveis, como o de admin?"),(0,s.kt)("li",{parentName:"ul"},"O c\xf3digo da aplica\xe7\xe3o \xe9 aberto, permitindo que a l\xf3gica do neg\xf3cio seja estudada?"),(0,s.kt)("li",{parentName:"ul"},"Um objeto com campos sens\xedveis possui um m\xe9todo construtor vazio ou com fracas valida\xe7\xf5es?"),(0,s.kt)("li",{parentName:"ul"},"H\xe1 a separa\xe7\xe3o entre as propriedades que podem ser alteradas por um usu\xe1rio comum e as que n\xe3o podem?")),(0,s.kt)("h4",{id:"mais-refer\xeancias-dispon\xedveis-na-owasp"},"Mais refer\xeancias dispon\xedveis na ",(0,s.kt)("a",{parentName:"h4",href:"https://github.com/OWASP/API-Security/blob/master/2019/en/src/0xa6-mass-assignment.md"},"OWASP"),"."))}m.isMDXComponent=!0}}]);